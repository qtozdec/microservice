# ===========================================
# Audit Service Environment Variables
# ===========================================

# Database Configuration
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/audit_service_db
SPRING_DATASOURCE_USERNAME=your_db_username
SPRING_DATASOURCE_PASSWORD=your_db_password
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# JPA/Hibernate Configuration
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect

# Server Configuration
SERVER_PORT=8085
SPRING_APPLICATION_NAME=audit-service

# Management/Actuator
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# Kafka Configuration (for consuming audit events)
SPRING_KAFKA_BOOTSTRAP_SERVERS=localhost:9092
SPRING_KAFKA_CONSUMER_GROUP_ID=audit-service-group
SPRING_KAFKA_CONSUMER_KEY_DESERIALIZER=org.apache.kafka.common.serialization.StringDeserializer
SPRING_KAFKA_CONSUMER_VALUE_DESERIALIZER=org.springframework.kafka.support.serializer.JsonDeserializer
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_JSON_TRUSTED_PACKAGES=*

# Audit Configuration
AUDIT_RETENTION_DAYS=2555
AUDIT_BATCH_SIZE=1000
AUDIT_ASYNC_PROCESSING=true
AUDIT_COMPRESSION_ENABLED=true

# Security & Compliance
GDPR_COMPLIANCE_ENABLED=true
PCI_DSS_COMPLIANCE_ENABLED=false
SOX_COMPLIANCE_ENABLED=false
DATA_ANONYMIZATION_ENABLED=true

# Elasticsearch Integration (for audit log search)
ELASTICSEARCH_ENABLED=true
ELASTICSEARCH_HOST=localhost
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_INDEX_PREFIX=audit-logs
ELASTICSEARCH_BULK_SIZE=100

# Email Alerts for Critical Events
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_RECIPIENTS=admin@microservices.local,security@microservices.local
ALERT_EMAIL_SMTP_HOST=smtp.gmail.com
ALERT_EMAIL_SMTP_PORT=587
ALERT_EMAIL_USERNAME=alerts@microservices.local
ALERT_EMAIL_PASSWORD=your_alert_email_password

# File Export Configuration
EXPORT_ENABLED=true
EXPORT_FORMAT=csv,json,pdf
EXPORT_STORAGE_PATH=./exports/
EXPORT_ENCRYPTION_ENABLED=true
EXPORT_ENCRYPTION_KEY=your_32_character_encryption_key

# Data Masking
DATA_MASKING_ENABLED=true
MASK_SENSITIVE_FIELDS=password,ssn,credit_card,email
MASKING_CHARACTER=*

# Archival Configuration
ARCHIVE_ENABLED=true
ARCHIVE_THRESHOLD_DAYS=365
ARCHIVE_STORAGE_TYPE=s3
ARCHIVE_S3_BUCKET=audit-archive-bucket
ARCHIVE_S3_REGION=us-east-1
ARCHIVE_AWS_ACCESS_KEY=your_aws_access_key
ARCHIVE_AWS_SECRET_KEY=your_aws_secret_key

# Performance Configuration
ASYNC_THREAD_POOL_SIZE=10
MAX_EVENTS_PER_REQUEST=1000
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=1000

# Logging
LOGGING_LEVEL_COM_MICROSERVICES_AUDIT=DEBUG
LOGGING_PATTERN_CONSOLE=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n
LOGGING_FILE_NAME=audit-service.log
LOGGING_FILE_MAX_SIZE=100MB
LOGGING_FILE_MAX_HISTORY=30

# Monitoring Integration
METRICS_ENABLED=true
CUSTOM_METRICS_ENABLED=true
HEALTH_CHECK_DEPENDENCIES=database,elasticsearch,kafka

# External Service URLs
USER_SERVICE_URL=http://localhost:8081
NOTIFICATION_SERVICE_URL=http://localhost:8083