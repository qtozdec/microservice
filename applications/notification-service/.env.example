# ===========================================
# Notification Service Environment Variables
# ===========================================

# Database Configuration
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/notification_service_db
SPRING_DATASOURCE_USERNAME=your_db_username
SPRING_DATASOURCE_PASSWORD=your_db_password
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# JPA/Hibernate Configuration
SPRING_JPA_HIBERNATE_DDL_AUTO=update
SPRING_JPA_SHOW_SQL=false
SPRING_JPA_PROPERTIES_HIBERNATE_DIALECT=org.hibernate.dialect.PostgreSQLDialect

# Server Configuration
SERVER_PORT=8083
SPRING_APPLICATION_NAME=notification-service

# Management/Actuator
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=when-authorized
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# Email Configuration
SPRING_MAIL_HOST=smtp.gmail.com
SPRING_MAIL_PORT=587
SPRING_MAIL_USERNAME=your_notification_email@gmail.com
SPRING_MAIL_PASSWORD=your_email_app_password
SPRING_MAIL_PROPERTIES_MAIL_SMTP_AUTH=true
SPRING_MAIL_PROPERTIES_MAIL_SMTP_STARTTLS_ENABLE=true
MAIL_FROM=noreply@microservices.local

# SMS Configuration (Twilio example)
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=your_twilio_phone_number

# Push Notification Configuration (Firebase)
FIREBASE_PROJECT_ID=your_firebase_project_id
FIREBASE_PRIVATE_KEY_ID=your_firebase_private_key_id
FIREBASE_PRIVATE_KEY=your_firebase_private_key
FIREBASE_CLIENT_EMAIL=your_firebase_client_email
FIREBASE_CLIENT_ID=your_firebase_client_id

# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK
SLACK_CHANNEL=#notifications
SLACK_USERNAME=MicroservicesBot

# Kafka Configuration (for consuming events)
SPRING_KAFKA_BOOTSTRAP_SERVERS=localhost:9092
SPRING_KAFKA_CONSUMER_GROUP_ID=notification-service-group
SPRING_KAFKA_CONSUMER_KEY_DESERIALIZER=org.apache.kafka.common.serialization.StringDeserializer
SPRING_KAFKA_CONSUMER_VALUE_DESERIALIZER=org.springframework.kafka.support.serializer.JsonDeserializer
SPRING_KAFKA_CONSUMER_PROPERTIES_SPRING_JSON_TRUSTED_PACKAGES=*

# WebSocket Configuration
WEBSOCKET_ENDPOINT=/ws
WEBSOCKET_ALLOWED_ORIGINS=*

# Template Configuration
NOTIFICATION_TEMPLATES_PATH=classpath:/templates/
DEFAULT_TEMPLATE_ENGINE=thymeleaf

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_EMAIL_PER_MINUTE=10
RATE_LIMIT_SMS_PER_MINUTE=5
RATE_LIMIT_PUSH_PER_MINUTE=100

# Retry Configuration
NOTIFICATION_MAX_RETRY_ATTEMPTS=3
NOTIFICATION_RETRY_DELAY=5000
NOTIFICATION_RETRY_BACKOFF_MULTIPLIER=2

# Logging
LOGGING_LEVEL_COM_MICROSERVICES_NOTIFICATION=DEBUG
LOGGING_PATTERN_CONSOLE=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level [%logger{36}] - %msg%n

# External Service URLs
USER_SERVICE_URL=http://localhost:8081
AUDIT_SERVICE_URL=http://localhost:8085